/************************************************
jquery.animate-enhanced plugin v0.64
Author: www.benbarnett.net || @benpbarnett

Copyright (c) 2010 Ben Barnett
Licensed under the MIT license
http://www.opensource.org/licenses/mit-license.php
*************************************************/
(function(o,x,y){function B(a,c,k,h){var i=C.exec(c),f=a.css(k)==="auto"?0:a.css(k);f=typeof f=="string"?v(f):f;typeof c=="string"&&v(c);h=h===true?0:f;var g=a.is(":hidden"),b=a.translation();if(k=="left")h=parseInt(f,10)+b.x;if(k=="top")h=parseInt(f,10)+b.y;if(!i&&c=="show"){h=1;g&&a.css({display:"block",opacity:0})}if(i){a=parseFloat(i[2]);if(i[1])a=(i[1]==="-="?-1:1)*a+parseInt(h,10);return a}else return h}function D(a,c,k,h,i,f,g){var b=a.data("cssEnhanced")||jQuery.extend(true,{},E),d=i;if(c==
"left"||c=="top"){var l=b.meta,r=v(a.css(c))||0;d=f?i-r:i;l[c]=d;l[c+"_o"]=a.css(c)=="auto"?0+d:r+d||0;b.meta=l;if(f&&d===0){d=0-l[c+"_o"];l[c]=d;l[c+"_o"]=0}}return a.data("cssEnhanced",F(b,c,k,h,d,f,g))}function F(a,c,k,h,i,f,g){a=typeof a==="undefined"?{}:a;a.secondary=typeof a.secondary==="undefined"?{}:a.secondary;for(var b=e.length-1;b>=0;b--){if(typeof a[e[b]+"transition-property"]==="undefined")a[e[b]+"transition-property"]="";a[e[b]+"transition-property"]+=", "+(f===true?e[b]+"transform":
c);a[e[b]+"transition-duration"]=k+"ms";a[e[b]+"transition-timing-function"]=h;a.secondary[f===true?e[b]+"transform":c]=f===true?g===true&&G?"translate3d("+a.meta.left+"px,"+a.meta.top+"px,0)":"translate("+a.meta.left+"px,"+a.meta.top+"px)":i}return a}function H(a){for(var c in a)if((c=="width"||c=="height")&&(a[c]=="show"||a[c]=="hide"||a[c]=="toggle"))return true;return false}function p(a){for(var c in a)return false;return true}function v(a){return parseFloat(a.replace(/px/i,""))}var I=["top",
"left","opacity","height","width"],e=["","-webkit-","-moz-","-o-"],J=["avoidTransforms","useTranslate3d","leaveTransforms"],C=/^([+-]=)?([\d+-.]+)(.*)$/,K=/([A-Z])/g,E={secondary:{},meta:{left:0,top:0}};o=(document.body||document.documentElement).style;var s=o.WebkitTransition!==undefined?"webkitTransitionEnd":o.OTransition!==undefined?"oTransitionEnd":"transitionend",z=o.WebkitTransition!==undefined||o.MozTransition!==undefined||o.OTransition!==undefined||o.transition!==undefined,G="WebKitCSSMatrix"in
window&&"m11"in new WebKitCSSMatrix;jQuery.fn.translation=function(){if(!this[0])return null;for(var a=window.getComputedStyle(this[0],null),c={x:0,y:0},k=e.length-1;k>=0;k--){var h=a.getPropertyValue(e[k]+"transform");if(h&&/matrix/i.test(h)){a=h.replace(/^matrix\(/i,"").split(/, |\)$/g);c={x:a[4],y:a[5]};break}}return c};jQuery.fn.animate=function(a,c,k,h){var i=jQuery.speed(c,k,h),f=0;if(!z||p(a)||H(a))return x.apply(this,arguments);return this[i.queue===false?"each":"queue"](function(){var g=
jQuery(this),b=jQuery.extend({},i),d=this||window,l=function(){f--;if(f==0)if(typeof b.complete==="function")return b.complete.apply(d,arguments)},r=function(){for(var t={},n=e.length-1;n>=0;n--){t[e[n]+"transition-property"]="none";t[e[n]+"transition-duration"]="";t[e[n]+"transition-timing-function"]=""}g.unbind(s);if(!a.leaveTransforms===true){var w=g.data("cssEnhanced")||{},u={};for(n=e.length-1;n>=0;n--)u[e[n]+"transform"]="";if(typeof w.meta!=="undefined"){u.left=w.meta.left_o+"px";u.top=w.meta.top_o+
"px"}g.css(t).css(u)}g.data("cssEnhanced",null);l()},m={bounce:"cubic-bezier(0.0, 0.35, .5, 1.3)",linear:"linear",swing:"ease-in-out",easeInOutQuint:"cubic-bezier(0.5, 0, 0, 0.8)"},q=null;m=m[b.easing||"swing"]?m[b.easing||"swing"]:b.easing||"swing";for(var j in a)if(jQuery.inArray(j,J)===-1){var A=B(g,a[j],j,(j=="left"||j=="top")&&a.avoidTransforms!==true?true:false);if(jQuery.inArray(j,I)>-1)D(g,j,b.duration,m,(j=="left"||j=="top")&&a.avoidTransforms===true?A+"px":A,(j=="left"||j=="top")&&a.avoidTransforms!==
true?true:false,a.useTranslate3d===true?true:false);else{q=!q?{}:q;q[j]=a[j]}}j=g.data("cssEnhanced")||{};for(m=e.length-1;m>=0;m--)if(typeof j[e[m]+"transition-property"]!=="undefined")j[e[m]+"transition-property"]=j[e[m]+"transition-property"].substr(2);g.data("cssEnhanced",j);g.unbind(s);if(!p(g.data("cssEnhanced"))&&!p(g.data("cssEnhanced").secondary)){f++;g.css(g.data("cssEnhanced"));setTimeout(function(){g.bind(s,r).css(g.data("cssEnhanced").secondary)})}if(!p(q)){f++;x.apply(g,[q,{duration:b.duration,
easing:b.easing,complete:l,queue:b.queue}])}return true})};jQuery.fn.stop=function(a,c,k){if(!z)return y.apply(this,[a,c]);a&&this.queue([]);for(var h={},i=e.length-1;i>=0;i--){h[e[i]+"transition-property"]="none";h[e[i]+"transition-duration"]="";h[e[i]+"transition-timing-function"]=""}this.each(function(){var f=jQuery(this),g=window.getComputedStyle(this,null),b={},d;if(!p(f.data("cssEnhanced"))&&!p(f.data("cssEnhanced").secondary)){d=f.data("cssEnhanced");if(c){b=d.secondary;if(!k&&typeof d.meta.left_o!==
undefined||typeof d.meta.top_o!==undefined){b.left=typeof d.meta.left_o!==undefined?d.meta.left_o:"auto";b.top=typeof d.meta.top_o!==undefined?d.meta.top_o:"auto";for(d=e.length-1;d>=0;d--)b[e[d]+"transform"]=""}}else for(var l in f.data("cssEnhanced").secondary){l=l.replace(K,"-$1").toLowerCase();b[l]=g.getPropertyValue(l);if(!k&&/matrix/i.test(b[l])){d=b[l].replace(/^matrix\(/i,"").split(/, |\)$/g);b.left=d[4]+"px"||"auto";b.top=d[5]+"px"||"auto";for(d=e.length-1;d>=0;d--)b[e[d]+"transform"]=""}}f.unbind(s).css(h).css(b).data("cssEnhanced",
null)}else y.apply(f,[a,c])});return this}})(jQuery,jQuery.fn.animate,jQuery.fn.stop);